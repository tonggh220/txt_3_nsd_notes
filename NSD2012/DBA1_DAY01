数据库课程 13天 + 2天 = 15天
DBA1  数据库基础 5天
DBA2  进阶       5天
NoSQL 			 3天

工作岗位  数据库管理员  DBA

庞丽静  静静   panglj@tedu.cn
+++++++++++++++++++++
day01
一 搭建数据服务器
	1.1 相关的概念？
		    数据库？
    服务的一种
	存储数据的仓库
	
	1.2 数据都包括那些？
	
	1.3 提供数据库服务的软件？
	关系型数据库服务软件
	MySQL  Oracle  SQL server

	非关系型数据库服务软件
	 Redis  memcached  mongodb
	
	开源软件 不等于 免费  
	商业软件
	
	是否跨平台（操作系统）
	windows  linux  Unix
	
	mysql 软件历史？
	
	MySQL特点及应用场景
	
	专业术语？(行话)
	 DB  DBMS  DBS 
	1.2 搭建数据库服务器
	诉求：在50主机使用mysql软件
	搭建数据库服务器，设置管理员root
	密码为tarena
		具体操作如下：
			1 解压软件
			tar  -xvf   ....
			2 安装软件
			yum -y install  .rpm
			3 启动服务
			4 查看初始密码
]# grep -i "password" /var/log/mysqld.log			
			
			5 使用初始密码登录
	]# mysql  -hlocalhost 	-uroot  -p'密码'
	
			6 查看原始数据

强制修改登录密码
mysql> alter user root@"localhost" identified by "123qqq...A";			
mysql> show databases; 查看原始数据
			
			7 断开连接  mysql> exit;
			
			使用修改的密码123qqq...A 登录
[root@host50 ~]# mysql -hlocalhost -uroot -p123qqq...A			
			
			8 修改密码策略   休息到11:20 
				  8.1 查看密码策略
			show  variables;	 查看所有变量
            show  variables like "%password%"; 只查看包含
			password 字样的变量
			   
show  variables like  "validate_password_policy";查看指定变量
show  variables like  "validate_password_length"; 查看密码长度
				  
				  8.2 修改密码策略
					   8.2.1  命令行临时有效
	set  global  validate_password_policy=0; 修改密码策略				   
	set  global  validate_password_length=6；修改密码长度为>=6个字符
	
					   
						  
			9 修改登录密码
	alter user root@"localhost" identified by "123456";
	alter user root@"localhost" identified by "tarena";
	exit;
	
			
			10 使用新密码登录
	]#mysql  -hlocalhost -uroot  -ptarena
	mysql> show databases;
	
	
	        8.2.2  修改配置文件永久生效
				      ]# vim /etc/my.cnf
						     [mysqld]
							  validate_password_policy=0
						      validate_password_length=6
			               :wq
					  ]#systemctl restart mysqld  重启成功说明改对了 

巩固练习搭建数据库服务器
诉求：在51主机使用mysql软件
      搭建数据库服务器，设置管理员root  密码为tarena
	   具体操作如下：
			1 解压软件
			2 安装软件
			3 启动服务
			4 查看初始密码
			5 使用初始密码登录
			6 修改登录密码并查看原始数据
			7 断开连接
			8 修改密码策略
			9 设置新密码为tarena
			10 配置策略永久有效


二、MySQL服务的基本管理
	2.1 连接数据库服务的连接方式？
			1 python/java/php 脚本连接  
			2 图形工具 （需要安装图形软件）
			
			3 命令行连接  mysql命令
]# mysql  --help 
]# man  mysql

]# mysql  [-h数据库服务器Ip地址或主机名] -u用户名 	-p密码	[数据库名]
			
]# mysql  -uroot -ptarena  sys  连接服务直接进入sys库里
mysql> select  database();  显示当前所在的库 
mysql> show  tables ； 显示所在库已有的表

-e  在系统命令行下执行 mysql 命令 			
]# mysql -uroot -ptarena  -e 'show databases'
			
			一起执行多个mysql命令使用；间隔命令
]# mysql -uroot -ptarena  -e 'show databases ;use mysql ; show tables'
			
[root@host50 ~]# mysql -uroot -p			
Enter password: 输入密码（不会显示出来）

	2.2 客户端把数据存储到数据库服务器的过程
		 1 连接数据库服务器
		 2 创建数据库（/var/lib/mysql/目录）
			create database  库名；
			create database 123a;
			show  databases;
			]# ls /var/lib/mysql/
			]# mkdir  /var/lib/mysql/gamedb
			show databases
					
 3 创建表 (表就是数据目录下的文件，文件必须使用mysql命令创建,
表必须要创建在库里，库必须要事先创建好	 )
		   create table  库名.表名(表头名 数据类型，表头名 数据类型 ....);
		   
		  
		 5 断开连接 exit ;
		 
	库的相关管理命令
	    库名的命名规则（背诵）
		建库  create database bbsdb;
		查看已有的库名  show databases;
		进入到库bbsdb库里   use  bbsdb;
		显示库里已有的表  show tables;
		查看当前所在的库 select database();
		查看当前登录的用户名和客户端  select user();
		删除已有的库  drop database  bbsdb;
			
		表的相关管理命令
		    use  mysql;
		   显示库里已有的表  show tables;
		   查看表头  desc  mysql.user;
				   
		记录的相关管理命令	
			插入记录 insert into  库.表 values(值列表);
			查询记录 select  表头名  from  库.表
			修改记录 update  库.表 set  表头名=值； 
			删除记录 delete from  库.表;
			
 create table 123a.stuinfo(姓名 char(5), 性别  char(1), 
		   年龄 int, 班级 char(7) ); 
		   
		   use  123a;
		   show tables;  查看已有表
		   desc  stuinfo; 查看已有表的表头
		   ]# ls /var/lib/mysql/123a/stuinfo.*
		   
]# chown  mysql.mysql /var/lib/mysql/gamedb		   
create table gamedb.stuinfo(姓名 char(5), 性别  char(1), 
		   年龄 int, 班级 char(7) );
		   
		 4 存储数据  insert into 
		    insert into 库.表  values (值列表) ;
		    insert into  123a.stuinfo values("bob" ,"m",21,"nsd2012" );
			
			insert into  123a.stuinfo values("tom" ,"m",21,"nsd2012" ),
			("jim" ,"m",21,"nsd2012")；
			
			查看行（查看表记录）
			select  表头名称  from 库.表;
			
			select  *  from 123a.stuinfo;    * 表示所有表头名
			select  姓名，年龄  from 123a.stuinfo;  查看指定表名 
			
			修改
			update 库.表 set 表头名=值，表头名=值；
			mysql> update 123a.stuinfo set 年龄=25 ;
			select  姓名，年龄  from 123a.stuinfo;
			
			删除所有行  delete from 库.表;
			delete from 123a.stuinfo;
		
			use  123a；
			show  tables；  只看到表名
			select  *  from 123a.stuinfo; 没有行
			
			删除已有的表 drop  table 123a.stuinfo;
			                           库.表	
			
			
	
	


 

 

