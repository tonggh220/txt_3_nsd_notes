nosql_day03   
        一 、redis 主从复制 
		     （存储数据的服务结构 类似于mysql服务的主从同步，可以实现数据的自动备份）
			    
				角色: 客户端存储数据连接的服务器是主数据库服务器 称为 master  
				        Redis服务运行后不做任何配置默认就是 master 角色服务器
				        从服务器 称为slave  自动保持与主数据库服务器数据一致
						
	            支持的主从复制结构包括？
	
				配置一主一从结构   
						诉求把52 配置为 51的 slave服务器
						
						配置从服务器 ：
									命令配置   马上生效 但  是临时 服务重启还原
												 slaveof     192.168.4.51  6351  临时配置为slave服务器
												 slaveof    no  one  临时恢复为master 服务器 
												 info  replication   查看复制信息
										
				                    
									
				
				配置一主多从结构
							诉求 ： 把数据库服务器53 也配置为 51的slave服务器
                            配置53主机   修改配置文件  永久配置  需要重启服务
							redis-cli  -h  192.168.4.53  -p 6353  shutdown
							
							]#vim  /etc/redis/6379.conf
							    282 slaveof 192.168.4.51 6351
							:wq
							
							]# /etc/init.d/redis_6379 start
							
				配置主从从结构(命令行配置 或 修改配置文件配置)
						诉求   54 主   55从    56从
						
						 配置55 主机     slaveof   192.168.4.54  6354 
						 
						 配置56 主机     slaveof   192.168.4.55  6355 
				         
						             验证 ： 分别在 3台服务器查看复制信息
						
						
						
			 主从复制的工作原理？
             
			  配置带验证的主从复制 （主数据库服务器设置了连接密码）
						 1 主数据库服务器设置连接密码
						 2 从服务器指定主服务器的连接密码
						 
						 
			  哨兵服务：
			            哨兵服务 + 主从复制结构 实现redis服务的高可用
						
						1 配置Redis主从复制结构（一主51一从52）
						2 配置哨兵服务器 192.168.4.57 
								2.1  安装源码的redis软件（不需要初始化操作）
								2.2  创建并编辑哨兵服务的主配置文件
								2.3  启动服务
								2.4  测试配置